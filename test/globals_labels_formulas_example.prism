// Example 1
// Two process mutual exclusion

mdp

global g : [1..10];
global b : bool init true;

formula num_tokens = q1+q2+q3+q+q5;

label "safe" = temp<=100 | alarm=true;
label "fail" = temp>100 & alarm=false;

module M1

    x : [0..2] init 0;

    [] x=0 -> 0.8:(x'=0) + 0.2:(x'=1);
    [] x=1 & y!=2 -> (x'=2);
    [] x=2 -> 0.5:(x'=2) + 0.5:(x'=0);

endmodule

module M2

    y : [0..2] init y+x=1 endinit;

    [] y=0 -> 0.8:(y'=0) + 0.2:(y'=1);
    [] y=1 & x!=2 -> (y'=2);
    [] y=2 -> 0.5:(y'=2) + 0.5:(y'=0);

endmodule